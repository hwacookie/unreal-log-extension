<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:6,&quot;tests&quot;:14,&quot;passes&quot;:14,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-05-21T21:07:35.433Z&quot;,&quot;end&quot;:&quot;2025-05-21T21:07:58.495Z&quot;,&quot;duration&quot;:23062,&quot;testsRegistered&quot;:14,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;4834c1d8-33e2-4c5a-ba20-ea24760a75be&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1071,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.activateExtension)();\nawait (0, testUtils_1.focusUnrealLogView)();\nawait (0, testUtils_1.delay)(testUtils_1.WEBVIEW_READY_DELAY_MS); // Ensure webview is ready&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f2ddcc7-e65a-434f-ab80-b2a27d20d724&quot;,&quot;parentUUID&quot;:&quot;4834c1d8-33e2-4c5a-ba20-ea24760a75be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:502,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.activateExtension)();\nawait (0, testUtils_1.focusUnrealLogView)();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebd0d090-ae76-49d7-a266-998dcb1de09d&quot;,&quot;parentUUID&quot;:&quot;4834c1d8-33e2-4c5a-ba20-ea24760a75be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;896ddd8b-d3bc-42e0-84af-ce8eac5c7d4a&quot;,&quot;title&quot;:&quot;Unreal Log Viewer Extension - Basic Tests&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\basic.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\basic.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should activate the extension&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer Extension - Basic Tests should activate the extension&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const extension = vscode.extensions.getExtension(&#x27;coregames.unreal-log-viewer&#x27;);\nassert.ok(extension, &#x27;Extension should be found.&#x27;);\n// Add a non-null assertion here since assert.ok already checks for undefined\nawait extension.activate();\nassert.ok(extension.isActive, &#x27;Extension should be active after activation.&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b7413eb-72de-4e54-a8d9-5c5085a3378c&quot;,&quot;parentUUID&quot;:&quot;896ddd8b-d3bc-42e0-84af-ce8eac5c7d4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should open the Unreal Log Viewer view&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer Extension - Basic Tests should open the Unreal Log Viewer view&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1526,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const extension = vscode.extensions.getExtension(&#x27;coregames.unreal-log-viewer&#x27;);\nassert.ok(extension, &#x27;Extension should be found to open view.&#x27;); // Ensure extension is found\n// Check if extension is defined before accessing isActive or calling activate\nif (extension) {\n    if (!extension.isActive) {\n        await extension.activate();\n    }\n    assert.ok(extension.isActive, &#x27;Extension must be active to open view.&#x27;);\n    // --- Layout Modification --- \n    console.log(&#x27;Arranging views: Focusing Unreal Log Viewer...&#x27;);\n    await vscode.commands.executeCommand(&#x27;unrealLogViewerView3.focus&#x27;);\n    await new Promise(resolve =&gt; setTimeout(resolve, 500)); // Delay for focus\n    console.log(&#x27;Arranging views: Attempting to move Unreal Log Viewer to Panel...&#x27;);\n    try {\n        await vscode.commands.executeCommand(&#x27;workbench.action.moveFocusedViewToPanel&#x27;);\n        console.log(&#x27;Command \&quot;workbench.action.moveFocusedViewToPanel\&quot; executed.&#x27;);\n    }\n    catch (error) {\n        console.warn(&#x27;Could not move Unreal Log Viewer to panel. It might already be there, not be movable, or the command failed:&#x27;, error);\n    }\n    await new Promise(resolve =&gt; setTimeout(resolve, 500)); // Delay for move\n    console.log(&#x27;Arranging views: Focusing Terminal...&#x27;);\n    await vscode.commands.executeCommand(&#x27;workbench.action.terminal.focus&#x27;);\n    await new Promise(resolve =&gt; setTimeout(resolve, 500)); // Delay for terminal focus\n    // --- End of Layout Modification ---\n    //      console.log(&#x27;Starting 10-second delay for manual observation of layout...&#x27;);\n    //      await new Promise(resolve =&gt; setTimeout(resolve, 10000)); // 10 seconds delay for manual check\n    // Original assertion was that focus was attempted. \n    // Now, it asserts that the layout process was attempted for manual verification.\n    assert.ok(true, &#x27;Layout arrangement process attempted. Please verify manually during the delay.&#x27;);\n}\nelse {\n    // This case should ideally not be reached if the first assert.ok(extension, ...) passes\n    // but it satisfies the compiler&#x27;s concern about extension being potentially undefined.\n    assert.fail(&#x27;Extension was not found, cannot proceed to open view.&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ffd4319-360b-4249-b018-895670d35038&quot;,&quot;parentUUID&quot;:&quot;896ddd8b-d3bc-42e0-84af-ce8eac5c7d4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2b7413eb-72de-4e54-a8d9-5c5085a3378c&quot;,&quot;6ffd4319-360b-4249-b018-895670d35038&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1526,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;e0a655f1-ace2-4d94-bad7-ec4815501125&quot;,&quot;title&quot;:&quot;Unreal Log Viewer - Filter Controls UI Tests&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\filterControls.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\filterControls.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;test 0004: should toggle filter visibility when \&quot;Toggle Filter Bar\&quot; command is executed&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Filter Controls UI Tests test 0004: should toggle filter visibility when \&quot;Toggle Filter Bar\&quot; command is executed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1652,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(20000); // Increased timeout for UI operations\nawait (0, testUtils_1.focusUnrealLogView)(); // Ensure the view is focused\nawait (0, testUtils_1.delay)(testUtils_1.WEBVIEW_READY_DELAY_MS);\n// 1. Get initial state of the filter container\nlet filterControlsElements = await (0, testUtils_1.getWebviewElements)(&#x27;#filter-controls&#x27;);\nassert.ok(filterControlsElements.length &gt; 0, &#x27;Filter controls div should exist.&#x27;);\nlet filterControlsDiv = filterControlsElements[0];\nconst initialIsHidden = filterControlsDiv.attributes.class?.includes(&#x27;hidden&#x27;) ?? false;\nconsole.log(&#x27;Initial filter controls hidden state:&#x27;, initialIsHidden);\n// 2. Execute the command to toggle filter bar visibility\nconsole.log(&#x27;Executing command unrealLogViewer.toggleFilterBarVisibility...&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.toggleFilterBarVisibility&#x27;);\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS + 200); // Allow UI to update (added a bit more delay for message passing)\n// 3. Get new state of the filter container\nfilterControlsElements = await (0, testUtils_1.getWebviewElements)(&#x27;#filter-controls&#x27;);\nassert.ok(filterControlsElements.length &gt; 0, &#x27;Filter controls div should still exist.&#x27;);\nfilterControlsDiv = filterControlsElements[0];\nconst isHiddenAfterFirstToggle = filterControlsDiv.attributes.class?.includes(&#x27;hidden&#x27;) ?? false;\nconsole.log(&#x27;Filter controls hidden state after first toggle:&#x27;, isHiddenAfterFirstToggle);\n// Assert that the hidden state has changed\nassert.notStrictEqual(isHiddenAfterFirstToggle, initialIsHidden, `Filter controls hidden state should change after first toggle. Initial: ${initialIsHidden}, After toggle: ${isHiddenAfterFirstToggle}`);\n// 4. Execute the command again to toggle back\nconsole.log(&#x27;Executing command unrealLogViewer.toggleFilterBarVisibility again...&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.toggleFilterBarVisibility&#x27;);\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS + 200); // Allow UI to update\n// 5. Get final state of the filter container\nfilterControlsElements = await (0, testUtils_1.getWebviewElements)(&#x27;#filter-controls&#x27;);\nassert.ok(filterControlsElements.length &gt; 0, &#x27;Filter controls div should still exist after second toggle.&#x27;);\nfilterControlsDiv = filterControlsElements[0];\nconst isHiddenAfterSecondToggle = filterControlsDiv.attributes.class?.includes(&#x27;hidden&#x27;) ?? false;\nconsole.log(&#x27;Filter controls hidden state after second toggle:&#x27;, isHiddenAfterSecondToggle);\n// Assert that the hidden state has reverted to the initial state\nassert.strictEqual(isHiddenAfterSecondToggle, initialIsHidden, `Filter controls hidden state should revert to initial after second toggle. Initial: ${initialIsHidden}, After second toggle: ${isHiddenAfterSecondToggle}`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6966eea9-cc6e-49a8-a95d-8ec7033aba13&quot;,&quot;parentUUID&quot;:&quot;e0a655f1-ace2-4d94-bad7-ec4815501125&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6966eea9-cc6e-49a8-a95d-8ec7033aba13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1652,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;title&quot;:&quot;UI Filtering Tests&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\filtering.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\filtering.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests \&quot;before all\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:611,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.activateExtension)();\nawait (0, testUtils_1.focusUnrealLogView)();\nconst config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\noriginalUseRelativeTimestamps = config.get(&#x27;useRelativeTimestamps&#x27;);\noriginalTimestampFormat = config.get(&#x27;timestampFormat&#x27;);\nawait config.update(&#x27;useRelativeTimestamps&#x27;, false, vscode.ConfigurationTarget.Global);\nawait config.update(&#x27;timestampFormat&#x27;, &#x27;HH:mm:ss.SSS&#x27;, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(testUtils_1.SETUP_COMPLETION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8aa4826-2dfa-45f5-b4a8-10a998009d85&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests \&quot;before each\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:603,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.focusUnrealLogView)();\nawait (0, testUtils_1.clearLogs)();\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27;, categoryFilter: &#x27;&#x27;, messageFilter: &#x27;&#x27; });\nconst isPaused = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nif (isPaused) {\n    await vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\n}\nawait (0, testUtils_1.delay)(testUtils_1.SETUP_COMPLETION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef6a6d36-45aa-496a-bbed-bb67f44c9bf9&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests \&quot;after all\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\nawait config.update(&#x27;useRelativeTimestamps&#x27;, originalUseRelativeTimestamps, vscode.ConfigurationTarget.Global);\nawait config.update(&#x27;timestampFormat&#x27;, originalTimestampFormat, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5c586d7-2fb4-4d3b-9917-25232beed662&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests \&quot;after each\&quot; hook in \&quot;UI Filtering Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:603,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.focusUnrealLogView)();\nconst isPaused = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nif (isPaused) {\n    await vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\n}\nawait (0, testUtils_1.clearLogs)();\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27;, categoryFilter: &#x27;&#x27;, messageFilter: &#x27;&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;647e923c-f306-4065-9b56-a25c6f485558&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;test 0004: should filter by log level (Error)&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests test 0004: should filter by log level (Error)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:407,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const logError = { date: new Date().toISOString(), level: &#x27;Error&#x27;, category: &#x27;TestCat.0004&#x27;, message: &#x27;Error message 0004&#x27; };\nconst logWarning = { date: new Date().toISOString(), level: &#x27;Warning&#x27;, category: &#x27;TestCat.0004&#x27;, message: &#x27;Warning message 0004&#x27; };\nconst logInfo = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;TestCat.0004&#x27;, message: &#x27;Info message 0004&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logError));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logWarning));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logInfo));\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;Error&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\nlet displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0004: Should display only 1 log after filtering by Error level&#x27;);\nassert.strictEqual(displayedLogs[0].message, logError.message, &#x27;Test 0004: Displayed log message mismatch&#x27;);\nassert.strictEqual(displayedLogs[0].level, &#x27;Error&#x27;, &#x27;Test 0004: Displayed log level mismatch&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\ndisplayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 3, &#x27;Test 0004: Should display all 3 logs after clearing level filter&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bbab492-47c4-4f4d-aaaa-d36f0f10e5d4&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0005: should filter by category&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests test 0005: should filter by category&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:306,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const logCatA = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;CategoryA.0005&#x27;, message: &#x27;Message for CategoryA 0005&#x27; };\nconst logCatB = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;CategoryB.0005&#x27;, message: &#x27;Message for CategoryB 0005&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logCatA));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logCatB));\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { categoryFilter: &#x27;CategoryA.0005&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\nconst displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0005: Should display only 1 log after filtering by CategoryA.0005&#x27;);\nassert.strictEqual(displayedLogs[0].category, &#x27;CategoryA.0005&#x27;, &#x27;Test 0005: Displayed log category mismatch&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da741ea2-c8a9-4474-9981-4843050fc039&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0006: should filter by message content&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests test 0006: should filter by message content&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:304,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const logMsg1 = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;MessageTest.0006&#x27;, message: &#x27;This is a unique message content 0006&#x27; };\nconst logMsg2 = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;MessageTest.0006&#x27;, message: &#x27;Another message 0006&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logMsg1));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logMsg2));\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { messageFilter: &#x27;unique message content&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\nconst displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0006: Should display only 1 log after filtering by message content&#x27;);\nassert.strictEqual(displayedLogs[0].message, logMsg1.message, &#x27;Test 0006: Displayed log message mismatch&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0733efa9-be6b-4381-9a03-763077cb3ee2&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0007: should filter by multiple criteria (level and category)&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests test 0007: should filter by multiple criteria (level and category)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:307,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const logErrorCatA = { date: new Date().toISOString(), level: &#x27;Error&#x27;, category: &#x27;FilterCatA.0007&#x27;, message: &#x27;Error in FilterCatA 0007&#x27; };\nconst logWarnCatA = { date: new Date().toISOString(), level: &#x27;Warning&#x27;, category: &#x27;FilterCatA.0007&#x27;, message: &#x27;Warning in FilterCatA 0007&#x27; };\nconst logErrorCatB = { date: new Date().toISOString(), level: &#x27;Error&#x27;, category: &#x27;FilterCatB.0007&#x27;, message: &#x27;Error in FilterCatB 0007&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logErrorCatA));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logWarnCatA));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(logErrorCatB));\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;Error&#x27;, categoryFilter: &#x27;FilterCatA.0007&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\nconst displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0007: Should display only 1 log after filtering by Error level and FilterCatA.0007&#x27;);\nassert.strictEqual(displayedLogs[0].message, logErrorCatA.message, &#x27;Test 0007: Displayed log message mismatch&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d3d6e6c-9b34-48a1-b8df-c68597397631&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0008: should clear all filters&quot;,&quot;fullTitle&quot;:&quot;UI Filtering Tests test 0008: should clear all filters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:405,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const log1 = { date: new Date().toISOString(), level: &#x27;Error&#x27;, category: &#x27;ClearTest.0008&#x27;, message: &#x27;First message for clear test 0008&#x27; };\nconst log2 = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;ClearTest.0008&#x27;, message: &#x27;Second message for clear test 0008&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(log1));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, JSON.stringify(log2));\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;Error&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\nlet displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0008: Should show 1 log after initial filter&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27;, categoryFilter: &#x27;&#x27;, messageFilter: &#x27;&#x27; });\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS);\ndisplayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 2, &#x27;Test 0008: Should show all 2 logs after clearing filters&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;445a546d-5e94-490e-a1a8-f2868e539cc0&quot;,&quot;parentUUID&quot;:&quot;d487ef45-0038-4faf-a558-8b3f6151cd15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bbab492-47c4-4f4d-aaaa-d36f0f10e5d4&quot;,&quot;da741ea2-c8a9-4474-9981-4843050fc039&quot;,&quot;0733efa9-be6b-4381-9a03-763077cb3ee2&quot;,&quot;8d3d6e6c-9b34-48a1-b8df-c68597397631&quot;,&quot;445a546d-5e94-490e-a1a8-f2868e539cc0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1729,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;b504c5a2-8074-4c67-90b6-fcabccddf972&quot;,&quot;title&quot;:&quot;Unreal Log Viewer - Basic Log Reception&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\logReceiving.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\logReceiving.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;test 0001: should receive and display a simple log message via TCP&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Basic Log Reception test 0001: should receive and display a simple log message via TCP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:303,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(15000);\nconst testLog = {\n    date: new Date().toISOString(), // Use current time for simplicity in this basic test\n    category: &#x27;BasicTest&#x27;,\n    level: &#x27;Info&#x27;,\n    message: &#x27;Basic TCP log reception test.&#x27;\n};\nconst testLogMessage = JSON.stringify(testLog) + &#x27;\\n&#x27;;\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS); // Use constant\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, testLogMessage, &#x27;Basic Reception Test: &#x27;); // Use TEST_PORT\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS); // Use constant\nconst receivedLog = await (0, testUtils_1.getAndVerifyLogEntry)(testLog, &#x27;Basic Reception Test&#x27;);\nassert.ok(receivedLog, &#x27;The basic test log entry should be present.&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;243d4226-0695-4f71-856e-14f94a25c088&quot;,&quot;parentUUID&quot;:&quot;b504c5a2-8074-4c67-90b6-fcabccddf972&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;243d4226-0695-4f71-856e-14f94a25c088&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:303,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;title&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\logReceiving.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\logReceiving.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests \&quot;before all\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\nconst settingKey = &#x27;useRelativeTimestamps&#x27;;\nconst formatKey = &#x27;timestampFormat&#x27;;\n// 1. Inspect and store original values\noriginalUseRelativeInspection = config.inspect(settingKey);\noriginalTimestampFormatInspection = config.inspect(formatKey);\nconsole.log(`Timestamp Suite - BEFORE - Initial inspection of ${settingKey}:`, JSON.stringify(originalUseRelativeInspection, null, 2));\nconsole.log(`Timestamp Suite - BEFORE - Initial inspection of ${formatKey}:`, JSON.stringify(originalTimestampFormatInspection, null, 2));\n// Store effective values\noriginalRelativeSettingForTimestampTests = config.get(settingKey);\noriginalTimestampFormatForTimestampTests = config.get(formatKey);\nconsole.log(`Timestamp Suite - BEFORE - Saved initial settings. Effective ${settingKey}: ${originalRelativeSettingForTimestampTests}, Effective ${formatKey}: ${originalTimestampFormatForTimestampTests}`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56e25850-83a3-428d-8985-cf8490bfd6f9&quot;,&quot;parentUUID&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests \&quot;before each\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:101,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Each test will now be responsible for setting its config and then clearing logs.\nconsole.log(\&quot;Timestamp Suite - beforeEach: (No longer clearing logs here)\&quot;);\n// Ensure any config changes from a previous test in this suite are processed before the next one starts.\nawait (0, testUtils_1.delay)(testUtils_1.SETUP_COMPLETION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f76f5d-bbd5-4a4a-aef2-d74b06d6401c&quot;,&quot;parentUUID&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests \&quot;after all\&quot; hook in \&quot;Unreal Log Viewer - Timestamp Formatting Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:536,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\nconst settingKey = &#x27;useRelativeTimestamps&#x27;;\nconst formatKey = &#x27;timestampFormat&#x27;;\nconsole.log(`Timestamp Suite - AFTER - Restoring original settings...`);\n// Restore to original effective values, and attempt to clear workspace overrides specifically.\n// This is a simplified restoration. A more complex one would use the full inspection details.\nawait config.update(settingKey, originalRelativeSettingForTimestampTests, vscode.ConfigurationTarget.Global);\nawait config.update(settingKey, undefined, vscode.ConfigurationTarget.Workspace); // Clear potential workspace override\nawait config.update(formatKey, originalTimestampFormatForTimestampTests, vscode.ConfigurationTarget.Global);\nawait config.update(formatKey, undefined, vscode.ConfigurationTarget.Workspace); // Clear potential workspace override\nawait (0, testUtils_1.delay)(testUtils_1.COMMAND_EXECUTION_DELAY_MS * 5); // Ensure settings are restored\nconsole.log(`Timestamp Suite - AFTER - Settings restored. Effective ${settingKey}: ${config.get(settingKey)}, Effective ${formatKey}: ${config.get(formatKey)}`);\nconst finalInspection = config.inspect(settingKey);\nconsole.log(`Timestamp Suite - AFTER - Final inspection of ${settingKey} after restore:`, JSON.stringify(finalInspection, null, 2));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d41a09a-47f7-42c6-9068-7f13bbd20784&quot;,&quot;parentUUID&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;test 0002: should display absolute timestamp correctly (HH:mm:ss.SSS)&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests test 0002: should display absolute timestamp correctly (HH:mm:ss.SSS)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1612,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(20000);\nlet config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;); // Initial fetch\nconst settingKey = &#x27;useRelativeTimestamps&#x27;;\nconst formatKey = &#x27;timestampFormat&#x27;;\nconsole.log(`Test 0002 - START - Initial effective value of ${settingKey}: ${config.get(settingKey)}`);\nlet currentInspection = config.inspect(settingKey);\nconsole.log(`Test 0002 - START - Initial inspection of ${settingKey}:`, JSON.stringify(currentInspection, null, 2));\n// Attempt to set to false for this test\nconsole.log(`Test 0002 - Attempting to set ${settingKey} to false and ${formatKey} to HH:mm:ss.SSS`);\nawait config.update(settingKey, false, vscode.ConfigurationTarget.Global);\nawait config.update(formatKey, &#x27;HH:mm:ss.SSS&#x27;, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(1000); // Increased delay for settings to propagate\nconfig = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;); // Re-fetch config\nconst currentEffectiveValue = config.get(settingKey);\ncurrentInspection = config.inspect(settingKey);\nconsole.log(`Test 0002 - After update attempts - Effective value of ${settingKey}: ${currentEffectiveValue}`);\nconsole.log(`Test 0002 - After update attempts - Inspection of ${settingKey}:`, JSON.stringify(currentInspection, null, 2));\nassert.strictEqual(currentEffectiveValue, false, `Test 0002: Configuration &#x27;${settingKey}&#x27; should be false. Effective: ${currentEffectiveValue}. Inspection: ${JSON.stringify(currentInspection)}`);\n// Clear logs AFTER settings are applied and verified for this test\nawait (0, testUtils_1.clearLogs)();\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nconst currentIsoTimestamp = new Date().toISOString();\nconst testLog = { ...baseLogEntry, date: currentIsoTimestamp };\nconst testLogMessage = JSON.stringify(testLog) + &#x27;\\n&#x27;;\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, testLogMessage, &#x27;Absolute Timestamp Test: &#x27;); // Use TEST_PORT\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS * 2);\nconst receivedLog = await (0, testUtils_1.getAndVerifyLogEntry)(testLog, &#x27;Absolute Timestamp Test&#x27;);\nassert.ok(receivedLog, &#x27;Log entry for absolute timestamp test should be present.&#x27;);\n// Simulate the provider&#x27;s behavior for expected time calculation:\n// 1. The provider receives an ISO string (e.g., \&quot;2025-05-21T00:05:19.462Z\&quot;)\n// 2. It strips the &#x27;Z&#x27; -&gt; \&quot;2025-05-21T00:05:19.462\&quot;\n// 3. It parses this Z-stripped string with `new Date()`, which interprets it as local time.\nconst timestampWithoutZ = currentIsoTimestamp.endsWith(&#x27;Z&#x27;)\n    ? currentIsoTimestamp.slice(0, -1)\n    : currentIsoTimestamp;\nconst dateAsParsedByProvider = new Date(timestampWithoutZ);\nconst h = dateAsParsedByProvider.getHours().toString().padStart(2, &#x27;0&#x27;);\nconst m = dateAsParsedByProvider.getMinutes().toString().padStart(2, &#x27;0&#x27;);\nconst s = dateAsParsedByProvider.getSeconds().toString().padStart(2, &#x27;0&#x27;);\nconst ms = dateAsParsedByProvider.getMilliseconds().toString().padStart(3, &#x27;0&#x27;);\nconst expectedTime = `${h}:${m}:${s}.${ms}`;\nassert.strictEqual(receivedLog.date, expectedTime, `Absolute timestamp should match provider&#x27;s parsing logic. Expected: \&quot;${expectedTime}\&quot;, Actual: \&quot;${receivedLog.date}\&quot;. ` +\n    `Input ISO: ${currentIsoTimestamp}. Effective &#x27;${settingKey}&#x27; was: ${currentEffectiveValue}. Timestamp sent to provider: ${timestampWithoutZ}`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5478d2c3-de6c-4c6b-86e6-ea7799b9664c&quot;,&quot;parentUUID&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0003: should display relative timestamp correctly (+HH:MM:SS.mmm)&quot;,&quot;fullTitle&quot;:&quot;Unreal Log Viewer - Timestamp Formatting Tests test 0003: should display relative timestamp correctly (+HH:MM:SS.mmm)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1624,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(15000);\nlet config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;); // Initial fetch\nconst settingKey = &#x27;useRelativeTimestamps&#x27;;\nconsole.log(`Test 0003 - START - Initial effective value of ${settingKey}: ${config.get(settingKey)}`);\nlet currentInspection = config.inspect(settingKey);\nconsole.log(`Test 0003 - START - Initial inspection of ${settingKey}:`, JSON.stringify(currentInspection, null, 2));\n// Attempt to set to true for this test\nconsole.log(`Test 0003 - Attempting to set ${settingKey} to true...`);\nawait config.update(settingKey, true, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(1000); // Increased delay for settings to propagate\nconfig = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;); // Re-fetch config\nconst currentEffectiveValue = config.get(settingKey);\ncurrentInspection = config.inspect(settingKey);\nconsole.log(`Test 0003 - After update attempts - Effective value of ${settingKey}: ${currentEffectiveValue}`);\nconsole.log(`Test 0003 - After update attempts - Inspection of ${settingKey}:`, JSON.stringify(currentInspection, null, 2));\nassert.strictEqual(currentEffectiveValue, true, `Test 0003: Configuration &#x27;${settingKey}&#x27; should be true. Effective: ${currentEffectiveValue}. Inspection: ${JSON.stringify(currentInspection)}`);\n// Clear logs AFTER settings are applied and verified\nawait (0, testUtils_1.clearLogs)();\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS);\nconst currentIsoTimestamp = new Date().toISOString();\nconst testLog = { ...baseLogEntry, date: currentIsoTimestamp, category: &#x27;RelativeTimestampTest&#x27; };\nconst testLogMessage = JSON.stringify(testLog) + &#x27;\\n&#x27;;\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_1.TEST_PORT, testLogMessage, &#x27;Relative Timestamp Test: &#x27;); // Use TEST_PORT\nawait (0, testUtils_1.delay)(testUtils_1.LOG_PROCESSING_DELAY_MS * 2); // Increased delay for processing\nconst receivedLog = await (0, testUtils_1.getAndVerifyLogEntry)(testLog, &#x27;Relative Timestamp Test&#x27;);\nassert.ok(receivedLog, &#x27;Log entry for relative timestamp test should be present.&#x27;);\nassert.match(receivedLog.date, /^\\+\\d{2}:\\d{2}:\\d{2}\\.\\d{3}$/, `The timestamp \&quot;${receivedLog.date}\&quot; should be relative. Effective &#x27;${settingKey}&#x27; was: ${currentEffectiveValue}. ` +\n    `Input ISO: ${currentIsoTimestamp}.`);\nconsole.log(`Relative timestamp received: ${receivedLog.date}`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7fea737-cce0-4625-89ab-51708a8d10de&quot;,&quot;parentUUID&quot;:&quot;d7770a55-a128-4257-8137-5db022246ad3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5478d2c3-de6c-4c6b-86e6-ea7799b9664c&quot;,&quot;f7fea737-cce0-4625-89ab-51708a8d10de&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3236,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;title&quot;:&quot;Pause Functionality Tests&quot;,&quot;fullFile&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\pause.test.js&quot;,&quot;file&quot;:&quot;p:\\prj\\UnrealLogViewer\\unreal-log-extension\\out\\test\\ui\\pause.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests \&quot;before all\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:609,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.activateExtension)();\nawait (0, testUtils_1.focusUnrealLogView)();\nconst config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\noriginalUseRelativeTimestamps = config.get(&#x27;useRelativeTimestamps&#x27;);\noriginalTimestampFormat = config.get(&#x27;timestampFormat&#x27;);\nawait config.update(&#x27;useRelativeTimestamps&#x27;, false, vscode.ConfigurationTarget.Global);\nawait config.update(&#x27;timestampFormat&#x27;, &#x27;HH:mm:ss.SSS&#x27;, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(testUtils_2.SETUP_COMPLETION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffbb8d8d-0ebc-4121-97c3-4c3bd3e6d2ea&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests \&quot;before each\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:603,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.focusUnrealLogView)();\nawait (0, testUtils_1.clearLogs)();\n// Ensure filters are cleared for pause tests, as they might interact\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27;, categoryFilter: &#x27;&#x27;, messageFilter: &#x27;&#x27; });\nconst isPaused = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nif (isPaused) {\n    await vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;); // Ensure starts unpaused\n}\nawait (0, testUtils_1.delay)(testUtils_2.SETUP_COMPLETION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e91c2c9-d90e-401b-a7ff-023e24d89634&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests \&quot;after all\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:110,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = vscode.workspace.getConfiguration(&#x27;unrealLogViewer&#x27;);\nawait config.update(&#x27;useRelativeTimestamps&#x27;, originalUseRelativeTimestamps, vscode.ConfigurationTarget.Global);\nawait config.update(&#x27;timestampFormat&#x27;, originalTimestampFormat, vscode.ConfigurationTarget.Global);\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;921957b8-a9a7-4fcb-91a9-c6189f9b1c2b&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests \&quot;after each\&quot; hook in \&quot;Pause Functionality Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:602,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await (0, testUtils_1.focusUnrealLogView)();\nconst isPaused = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nif (isPaused) {\n    await vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\n}\nawait (0, testUtils_1.clearLogs)();\n// Clear filters after pause tests\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.setFiltersForTest&#x27;, { levelFilter: &#x27;&#x27;, categoryFilter: &#x27;&#x27;, messageFilter: &#x27;&#x27; });\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dd17ab6-46e8-4360-b98c-882d67899716&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;test 0009: should not display new logs when paused&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests test 0009: should not display new logs when paused&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:503,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const initialLog = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;PauseTest.0009&#x27;, message: &#x27;Initial log before pause 0009&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_2.TEST_PORT, JSON.stringify(initialLog));\nawait (0, testUtils_1.delay)(testUtils_2.LOG_PROCESSING_DELAY_MS);\nlet displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0009: Initial log should be displayed&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);\nconst isPaused = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nassert.strictEqual(isPaused, true, &#x27;Test 0009: Should be paused&#x27;);\nconst pausedLog = { date: new Date().toISOString(), level: &#x27;Warning&#x27;, category: &#x27;PauseTest.0009&#x27;, message: &#x27;Log sent while paused 0009&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_2.TEST_PORT, JSON.stringify(pausedLog));\nawait (0, testUtils_1.delay)(testUtils_2.LOG_PROCESSING_DELAY_MS);\ndisplayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 1, &#x27;Test 0009: No new logs should be displayed when paused. Count should be 1.&#x27;);\nassert.strictEqual(displayedLogs[0].message, initialLog.message, &#x27;Test 0009: The initially displayed log should still be the one visible&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5490e81-18c6-49ac-aeba-54d5f677297f&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0010: should display queued logs when resumed&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests test 0010: should display queued logs when resumed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:506,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);\nconst isPausedStateBeforeSending = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nassert.strictEqual(isPausedStateBeforeSending, true, &#x27;Test 0010: Should be paused initially&#x27;);\nconst logWhilePaused1 = { date: new Date().toISOString(), level: &#x27;Log&#x27;, category: &#x27;ResumeTest.0010&#x27;, message: &#x27;Queued log 1 0010&#x27; };\nconst logWhilePaused2 = { date: new Date().toISOString(), level: &#x27;Error&#x27;, category: &#x27;ResumeTest.0010&#x27;, message: &#x27;Queued log 2 0010&#x27; };\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_2.TEST_PORT, JSON.stringify(logWhilePaused1));\nawait (0, testUtils_1.sendTcpLogMessage)(testUtils_2.TEST_PORT, JSON.stringify(logWhilePaused2));\nawait (0, testUtils_1.delay)(testUtils_2.LOG_PROCESSING_DELAY_MS);\nlet displayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 0, &#x27;Test 0010: No logs should be displayed while paused and before any initial logs in this test context&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;); // Resume\nawait (0, testUtils_1.delay)(testUtils_2.LOG_PROCESSING_DELAY_MS); // Allow time for queued logs to process\ndisplayedLogs = await (0, testUtils_1.getDisplayedLogMessages)();\nassert.strictEqual(displayedLogs.length, 2, &#x27;Test 0010: Queued logs should be displayed after resume&#x27;);\nassert.ok(displayedLogs.find(log =&gt; log.message === logWhilePaused1.message), &#x27;Test 0010: Queued log 1 not found after resume&#x27;);\nassert.ok(displayedLogs.find(log =&gt; log.message === logWhilePaused2.message), &#x27;Test 0010: Queued log 2 not found after resume&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aff369af-bf11-4822-8e15-0388508a271a&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;test 0011: should correctly report pause state via command&quot;,&quot;fullTitle&quot;:&quot;Pause Functionality Tests test 0011: should correctly report pause state via command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:201,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const initialPauseState = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nassert.strictEqual(initialPauseState, false, &#x27;Test 0011: Initial pause state should be false&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);\nconst pausedState = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nassert.strictEqual(pausedState, true, &#x27;Test 0011: Pause state should be true after toggling once&#x27;);\nawait vscode.commands.executeCommand(&#x27;unrealLogViewer.togglePauseForTest&#x27;);\nawait (0, testUtils_1.delay)(testUtils_2.COMMAND_EXECUTION_DELAY_MS);\nconst unpausedState = await vscode.commands.executeCommand(&#x27;unrealLogViewer.getPauseStateForTest&#x27;);\nassert.strictEqual(unpausedState, false, &#x27;Test 0011: Pause state should be false after toggling again&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2adf836-cc8b-4d00-96ec-d82eb2c4f6af&quot;,&quot;parentUUID&quot;:&quot;626e1b33-afeb-4bb4-b9db-786e8f9f7ce7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c5490e81-18c6-49ac-aeba-54d5f677297f&quot;,&quot;aff369af-bf11-4822-8e15-0388508a271a&quot;,&quot;d2adf836-cc8b-4d00-96ec-d82eb2c4f6af&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1210,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:20000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.4.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;P:\\prj\\UnrealLogViewer\\unreal-log-extension\\test-results\\mochawesome&quot;,&quot;reportFilename&quot;:&quot;report&quot;,&quot;quiet&quot;:true,&quot;json&quot;:true,&quot;html&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report&quot;,&quot;reportDir&quot;:&quot;P:\\prj\\UnrealLogViewer\\unreal-log-extension\\test-results\\mochawesome&quot;,&quot;reportTitle&quot;:&quot;vscode-win32-x64-archive-1.100.2&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;P:\\prj\\UnrealLogViewer\\unreal-log-extension\\test-results\\mochawesome\\assets&quot;,&quot;jsonFile&quot;:&quot;P:\\prj\\UnrealLogViewer\\unreal-log-extension\\test-results\\mochawesome\\report.json&quot;,&quot;htmlFile&quot;:&quot;P:\\prj\\UnrealLogViewer\\unreal-log-extension\\test-results\\mochawesome\\report.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>